<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>हिंदी कविताएँ</title>
    <link rel="stylesheet" href="/style.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          
          body {
            font-family: 'Mangal', 'Georgia', serif;
            background: linear-gradient(to bottom, #fff4cc, #ffe5a9);
            color: #333;
            line-height: 1.8;
            padding: 20px;
          }
          
          /* Layout Styling */
          .container {
           /* display: flex;
            flex-wrap: wrap;
            gap: 20px;
            */
            display: flex;
            gap: 20px;
            height: 100vh; /* Full viewport height for the container */
            overflow: hidden;
          }
          
          .left-column {
            width: 30%;
            max-width: 300px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: sticky; /* Keeps the left column fixed while scrolling */
            top: 0;
            height: fit-content;
          }
          
          .left-column img {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
          }
          
          .left-column h2 {
            font-size: 1.5em;
            color: #4CAF50;
            margin-bottom: 10px;
          }
          
          .left-column p {
            font-size: 0.88em;
            color: #555;
            line-height: 1.5;
          }
          
          .right-column {
            flex: 1;
            overflow-y: auto; /* Allow scrolling only in the right column */
            padding: 20px;
            background: #fff4cc;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
          }
          
          /* Header Styling */
          header {
            background-color: #4CAF50;
            padding: 15px 10px;
            text-align: center;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          }
          
          header h1 {
            font-size: 2.5em;
            color: white;
          }
          
          /* Search Box Styling */
          #searchContainer {
            margin: 20px 0;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
          }
          
          #searchInput {
            width: 80%;
            padding: 15px;
            font-size: 1em;
            border: 1px solid #ccc;
            border-radius: 50px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease-in-out;
          }
          
          #searchInput:focus {
            outline: none;
            border-color: #4CAF50;
            box-shadow: 0 4px 10px rgba(0, 128, 0, 0.2);
          }
          
          #searchIcon {
            position: absolute;
            right: 15%;
            font-size: 1.2em;
            color: #888;
            cursor: pointer;
          }
          
          #suggestions {
            position: absolute;
            top: 100%;
            left: 10%;
            width: 80%;
            background: white;
            border: 1px solid #ccc;
            border-radius: 0 0 10px 10px;
            max-height: 150px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
          }
          
          #suggestions div {
            padding: 10px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
          }
          
          #suggestions div:hover {
            background: #f9f9f9;
          }
          
          .hidden {
            display: none;
          }
          
          /* Poem Container */
          .poem-container {
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
          }
          
          /* Add spacing between poems */
          .poem {
            font-size: 1.2em;
            color: #555;
            margin-bottom: 30px;
            text-align: justify;
            white-space: pre-wrap;
            word-wrap: break-word;
            padding: 20px;
            background: rgba(255, 244, 204, 0.5);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
          }
          
          .poem + .poem {
            margin-top: 40px; /* Space between two poems */
          }
          
          .poem-title {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
            color: #4CAF50;
          }
          
          .poem-author {
            font-size: 1em;
            font-style: italic;
            margin-bottom: 30px;
            text-align: right;
            color: #888;
          }
          
          /* Footer Styling */
          footer {
            background-color: #4CAF50;
            color: white;
            padding: 20px;
            text-align: center;
            margin-top: 50px;
            border-radius: 8px;
          }
          
          footer p {
            font-size: 1em;
          }
          
          /* Responsive Design */
          @media (max-width: 768px) {
            .container {
              flex-direction: column;
              gap: 10px;
            }
          
            body {
              padding: 10px;
            }
          
            header h1 {
              font-size: 2em;
            }
          
            #searchInput {
              width: 100%;
            }
          
            .left-column {
              width: 100%;
            }
          
            .poem-container {
              width: 100%;
              padding: 15px;
            }
          
            .poem-title {
              font-size: 1.8em;
            }
          
            .poem {
              font-size: 1em;
            }
          
            footer p {
              font-size: 0.9em;
            }
          }
    </style>
</head>
<body>
    <div class="container">
        <div class="left-column">
          <img src="https://media.licdn.com/dms/image/v2/D4E03AQEHjuLbaSogjw/profile-displayphoto-shrink_200_200/B4EZPFFtoQHEAY-/0/1734178430173?e=2147483647&v=beta&t=L0YrE5zygMjQNYRwhmlLqgtulJLq3kUZMTjsDrXqe1g" alt="Author">
          <h2>डॉ. पुष्कर बंधु</h2>
          <p>हैदराबाद विश्वविद्यालय से पीएचडी स्कॉलर, डॉ. पुष्कर बंधु हिंदी साहित्य के गहरे प्रेमी और प्रख्यात कवि हैं। उनकी कविताएँ न केवल समाज की सच्चाई को उजागर करती हैं, बल्कि पाठकों के दिलों में गहरी छाप छोड़ती हैं।

            डॉ. पुष्कर बंधु का मानना है कि कविता केवल शब्दों का मेल नहीं है, बल्कि यह समाज के अनकहे पहलुओं को व्यक्त करने का एक सशक्त माध्यम है। उनकी रचनाएँ समाज की विडंबनाओं, संघर्षों और संवेदनाओं को बड़े ही प्रभावी और संवेदनशील तरीके से प्रस्तुत करती हैं।
            
            उनकी कविताओं में एक अद्वितीय प्रवाह और गहराई है, जो पाठकों को सोचने और महसूस करने पर मजबूर करती है। वे इस मंच के माध्यम से अपनी कविताओं को लोगों तक पहुँचाना चाहते हैं, ताकि हिंदी साहित्य और समाज के बीच एक मजबूत सेतु का निर्माण किया जा सके।
            
            "कविता मेरा माध्यम है, समाज का सत्य मेरा विषय है।"</p>
        </div>
        <div class="right-column">
          <div id="searchContainer">
            <input id="searchInput" type="text" placeholder="Search for poems...">
            <i id="searchIcon" class="fa fa-search"></i>
            <div id="suggestions" class="hidden"></div>
          </div>
          <div class="poem-container" id="poemContainer"></div>
        </div>
      </div>
   
   
      <footer>
        <p>हिंदी कविताएँ संग्रह</p>
      </footer>
    <script>
        let poems = [];
        async function fetchPoems() {
            const response = await fetch('/poems');
            const poems = await response.json();

            const poemContainer = document.getElementById('poemContainer');
            poems.forEach(poem => {
                const poemElement = document.createElement('div');
                poemElement.classList.add('poem');
                poemElement.style.backgroundImage = `url('${poem.backgroundImage}')`;
                poemElement.style.backgroundSize = 'cover';
                poemElement.style.backgroundPosition = 'center';
                poemElement.innerHTML = `
                    <h2>${poem.title}</h2>
                   <pre style="background: rgba(0,0,0,0.5); color: white; padding: 10px; border-radius: 5px;">${poem.content}</pre>
                `;
                poemContainer.appendChild(poemElement);
            });
            // Render a single poem
            function renderPoem(poem) {
                const poemContainer = document.getElementById('poemContainer');
                poemContainer.innerHTML = `
                    <div class="poem" style="background-image: url('${poem.backgroundImage}');">
                        <h2>${poem.title}</h2>
                        <pre>${poem.content}</pre>
                    </div>
                `;
            }

        // Handle search input
        function handleSearchInput(event) {
            const query = event.target.value.toLowerCase();
            const suggestions = document.getElementById('suggestions');
            suggestions.innerHTML = '';

            if (query) {
                const filteredPoems = poems.filter(poem => poem.title.toLowerCase().startsWith(query));
                filteredPoems.forEach(poem => {
                    const suggestionItem = document.createElement('div');
                    suggestionItem.textContent = poem.title;
                    suggestionItem.addEventListener('click', () => {
                        renderPoem(poem);
                        suggestions.classList.add('hidden');
                        document.getElementById('searchInput').value = '';
                    });
                    suggestions.appendChild(suggestionItem);
                });

                suggestions.classList.remove('hidden');
            } else {
                suggestions.classList.add('hidden');
            }
        }

        // Initialize event listeners
        document.getElementById('searchInput').addEventListener('input', handleSearchInput);

        }

        fetchPoems();
    </script>
</body>
</html>
